{
  "name": "Auto Documentation Generator",
  "description": "Automatically generates documentation from deployed services and their configurations",
  "data": {
    "nodes": [
      {
        "id": "k8s-apps",
        "type": "MCPClient",
        "position": {"x": 100, "y": 100},
        "data": {
          "node": {
            "template": {
              "server_url": {
                "value": "http://kubernetes-mcp-server.cortex-system.svc.cluster.local:3001"
              },
              "method": {
                "value": "k8s_list_deployments"
              },
              "params": {
                "value": "{}"
              }
            }
          }
        }
      },
      {
        "id": "k8s-services",
        "type": "MCPClient",
        "position": {"x": 100, "y": 250},
        "data": {
          "node": {
            "template": {
              "server_url": {
                "value": "http://kubernetes-mcp-server.cortex-system.svc.cluster.local:3001"
              },
              "method": {
                "value": "k8s_list_services"
              },
              "params": {
                "value": "{}"
              }
            }
          }
        }
      },
      {
        "id": "doc-generator",
        "type": "ChatAnthropic",
        "position": {"x": 350, "y": 175},
        "data": {
          "node": {
            "template": {
              "model_name": {
                "value": "claude-sonnet-4-20250514"
              },
              "anthropic_api_key": {
                "value": "{{ANTHROPIC_API_KEY}}"
              },
              "input_value": {
                "value": "Generate comprehensive documentation from the deployed infrastructure:\n\nDeployments:\n{k8s-apps.output}\n\nServices:\n{k8s-services.output}\n\nCreate documentation including:\n1. Architecture diagram (ASCII)\n2. Service descriptions and purposes\n3. API endpoints and access methods\n4. Dependencies and relationships\n5. Configuration and environment variables\n6. Deployment details (replicas, resources, etc.)\n7. Health checks and monitoring endpoints\n8. Troubleshooting guide\n9. Update procedures"
              }
            }
          }
        }
      },
      {
        "id": "output-docs",
        "type": "ChatOutput",
        "position": {"x": 600, "y": 175},
        "data": {
          "node": {
            "template": {
              "input_value": {
                "value": "{doc-generator.text}"
              }
            }
          }
        }
      }
    ],
    "edges": [
      {
        "source": "k8s-apps",
        "target": "doc-generator",
        "sourceHandle": "output",
        "targetHandle": "input"
      },
      {
        "source": "k8s-services",
        "target": "doc-generator",
        "sourceHandle": "output",
        "targetHandle": "input"
      },
      {
        "source": "doc-generator",
        "target": "output-docs",
        "sourceHandle": "text",
        "targetHandle": "input"
      }
    ]
  }
}
