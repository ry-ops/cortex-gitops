FROM python:3.11-slim

WORKDIR /app

# Install dependencies at build time (not runtime)
RUN pip install --no-cache-dir \
    mcp>=1.9.4 \
    httpx>=0.27.0 \
    cloudflare>=2.0.0 \
    pydantic>=2.0.0 \
    python-dotenv>=1.0.0

# Copy the repo (mounted at runtime)
# Server code will be in /app from git-clone init container

# Expose port
EXPOSE 3000

# Default command - will be overridden by deployment
CMD ["tail", "-f", "/dev/null"]
